<mat-card>
    <mat-card-title class="my-1">Login</mat-card-title>
    <mat-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <p>
                <mat-form-field>
                    <mat-label>Username</mat-label>
                    <input type="text" matInput formControlName="username"/>
                    @if (isControlInvalid('username')) {
                        <mat-error>Username is required</mat-error>
                    }
                </mat-form-field>
            </p>

            <p>
                <mat-form-field>
                    <mat-label>Password</mat-label>
                    <input type="password" matInput formControlName="password"/>
                    @if (isControlInvalid('password')) {
                        <mat-error>Password is required</mat-error>
                    }
                </mat-form-field>
            </p>

            @if (error()) {
                <div class="error" role="alert" aria-live="assertive">{{ error() }}</div>
            }

            @if (isLoading()) {
                <div class="button" role="status" aria-live="polite">
                    <mat-spinner [diameter]="16"></mat-spinner>
                    <span class="cdk-visually-hidden">Logging in</span>
                </div>
            } @else {
                <div class="button">
                    <button type="submit" mat-button>Login</button>
                </div>
            }
        </form>
    </mat-card-content>
</mat-card>


